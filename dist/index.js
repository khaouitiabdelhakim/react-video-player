'use strict';var react=require('react'),lucideReact=require('lucide-react'),jsxRuntime=require('react/jsx-runtime');var be=({src:I,poster:X,autoPlay:B=false,loop:j=false,muted:p=false,controls:q=true,width:J="100%",height:C="auto",onPlay:u,onPause:d,onEnded:m,onTimeUpdate:v,className:A=""})=>{let n=react.useRef(null),N=react.useRef(null),[c,g]=react.useState(false),[h,P]=react.useState(0),[s,G]=react.useState(0),[i,k]=react.useState(p?0:1),[y,T]=react.useState(p),[R,K]=react.useState(false),[O,M]=react.useState(true),[Q,W]=react.useState(1),[w,V]=react.useState(false),E=react.useRef(null),x=react.useRef(null);react.useEffect(()=>{let e=n.current;if(!e)return;let o=()=>G(e.duration),r=()=>{P(e.currentTime),v==null||v(e.currentTime);},S=()=>{g(true),u==null||u();},$=()=>{g(false),d==null||d();},H=()=>{g(false),m==null||m();};return e.addEventListener("loadedmetadata",o),e.addEventListener("timeupdate",r),e.addEventListener("play",S),e.addEventListener("pause",$),e.addEventListener("ended",H),()=>{e.removeEventListener("loadedmetadata",o),e.removeEventListener("timeupdate",r),e.removeEventListener("play",S),e.removeEventListener("pause",$),e.removeEventListener("ended",H);}},[u,d,m,v]),react.useEffect(()=>{let e=()=>{K(!!document.fullscreenElement);};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]);let D=()=>{n.current&&(c?n.current.pause():n.current.play());},b=react.useCallback(e=>{if(x.current&&n.current){let o=x.current.getBoundingClientRect(),r=Math.max(0,Math.min(1,(e-o.left)/o.width));n.current.currentTime=r*s,P(r*s);}},[s]),Y=e=>{b(e.clientX);},Z=e=>{V(true),b(e.clientX);};react.useEffect(()=>{let e=r=>{w&&b(r.clientX);},o=()=>{V(false);};return w&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",o)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",o);}},[w,b]);let _=e=>{let o=parseFloat(e.target.value);k(o),T(o===0),n.current&&(n.current.volume=o,n.current.muted=o===0);},U=()=>{if(n.current){let e=!y;if(T(e),n.current.muted=e,e)k(0),n.current.volume=0;else {let o=i===0?1:i;k(o),n.current.volume=o;}}},ee=()=>{var e;document.fullscreenElement?document.exitFullscreen():(e=N.current)==null||e.requestFullscreen();},te=()=>{document.fullscreenElement&&document.exitFullscreen();},z=e=>{n.current&&(n.current.currentTime=Math.max(0,Math.min(s,h+e)));},ne=e=>{W(e),n.current&&(n.current.playbackRate=e);},F=e=>{let o=Math.floor(e/60),r=Math.floor(e%60);return `${o}:${r.toString().padStart(2,"0")}`},oe=()=>{M(true),E.current&&clearTimeout(E.current),c&&(E.current=setTimeout(()=>{M(false);},3e3));},re=()=>{c&&M(false);};return jsxRuntime.jsxs("div",{ref:N,className:`relative bg-black ${A}`,style:{width:J,height:C==="auto"?void 0:C},onMouseMove:oe,onMouseLeave:re,children:[jsxRuntime.jsx("video",{ref:n,src:I,poster:X,autoPlay:B,loop:j,muted:p,className:"w-full h-full object-cover",onClick:D,onDoubleClick:te}),q&&jsxRuntime.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 transition-opacity duration-300 ${O?"opacity-100":"opacity-0"}`,children:[jsxRuntime.jsx("div",{ref:x,className:"w-full h-1 bg-gray-600 rounded cursor-pointer mb-3 group",onClick:Y,onMouseDown:Z,children:jsxRuntime.jsx("div",{className:"h-full bg-white rounded relative transition-colors",style:{width:`${h/s*100}%`},children:jsxRuntime.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity"})})}),jsxRuntime.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntime.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntime.jsx("button",{onClick:D,className:"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-all","aria-label":c?"Pause":"Play",children:c?jsxRuntime.jsx(lucideReact.Pause,{size:24}):jsxRuntime.jsx(lucideReact.Play,{size:24})}),jsxRuntime.jsx("button",{onClick:()=>z(-10),className:"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-all","aria-label":"Skip backward 10 seconds",children:jsxRuntime.jsx(lucideReact.SkipBack,{size:20})}),jsxRuntime.jsx("button",{onClick:()=>z(10),className:"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-all","aria-label":"Skip forward 10 seconds",children:jsxRuntime.jsx(lucideReact.SkipForward,{size:20})}),jsxRuntime.jsx("div",{className:"group relative",children:jsxRuntime.jsxs("div",{className:"flex items-center gap-3 px-2 py-2 rounded-full bg-black/50 hover:bg-black/70 transition-all overflow-hidden",children:[jsxRuntime.jsx("button",{onClick:U,className:"text-white flex-shrink-0","aria-label":y?"Unmute":"Mute",children:y||i===0?jsxRuntime.jsx(lucideReact.VolumeX,{size:20}):jsxRuntime.jsx(lucideReact.Volume2,{size:20})}),jsxRuntime.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:i,onChange:_,className:"w-0 group-hover:w-20 transition-all duration-300 accent-white cursor-pointer","aria-label":"Volume",style:{background:`linear-gradient(to right, white ${i*100}%, rgba(255,255,255,0.3) ${i*100}%)`}})]})}),jsxRuntime.jsx("div",{className:"flex items-center gap-1 ml-4",children:[.5,1,1.5,2].map(e=>jsxRuntime.jsxs("button",{onClick:()=>ne(e),className:`px-3 py-1 rounded-full text-white text-sm transition-all ${Q===e?"bg-white/30 font-bold":"bg-black/50 hover:bg-black/70"}`,"aria-label":`Playback speed ${e}x`,children:[e,"x"]},e))}),jsxRuntime.jsxs("span",{className:"text-white text-sm",children:[F(h)," / ",F(s)]})]}),jsxRuntime.jsx("button",{onClick:ee,className:"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-all","aria-label":R?"Exit fullscreen":"Enter fullscreen",children:R?jsxRuntime.jsx(lucideReact.Minimize,{size:20}):jsxRuntime.jsx(lucideReact.Maximize,{size:20})})]})]})]})},fe=be;module.exports=fe;//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map