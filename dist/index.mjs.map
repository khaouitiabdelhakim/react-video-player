{"version":3,"sources":["../app/components/VideoPlayer.tsx"],"names":["VideoPlayer","src","poster","autoPlay","loop","muted","controls","width","height","onPlay","onPause","onEnded","onTimeUpdate","className","videoRef","useRef","containerRef","isPlaying","setIsPlaying","useState","currentTime","setCurrentTime","duration","setDuration","volume","setVolume","isMuted","setIsMuted","isFullscreen","setIsFullscreen","showControls","setShowControls","playbackRate","setPlaybackRate","isDragging","setIsDragging","hideControlsTimeout","progressBarRef","useEffect","video","handleLoadedMetadata","handleTimeUpdate","handlePlay","handlePause","handleEnded","handleFullscreenChange","togglePlay","updateProgress","useCallback","clientX","rect","pos","handleProgressClick","handleProgressMouseDown","handleMouseMove","e","handleMouseUp","handleVolumeChange","newVolume","toggleMute","newMuted","newVol","toggleFullscreen","_a","handleDoubleClick","skip","seconds","changePlaybackRate","rate","formatTime","time","mins","secs","handleMouseLeave","jsxs","jsx","Pause","Play","SkipBack","SkipForward","VolumeX","Volume2","Minimize","Maximize","VideoPlayer_default"],"mappings":"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","file":"index.mjs","sourcesContent":["'use client';\n\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { Play, Pause, Volume2, VolumeX, Maximize, Minimize, SkipBack, SkipForward } from 'lucide-react';\n\nexport interface VideoPlayerProps {\n  src: string;\n  poster?: string;\n  autoPlay?: boolean;\n  loop?: boolean;\n  muted?: boolean;\n  controls?: boolean;\n  width?: string | number;\n  height?: string | number;\n  onPlay?: () => void;\n  onPause?: () => void;\n  onEnded?: () => void;\n  onTimeUpdate?: (currentTime: number) => void;\n  className?: string;\n}\n\nconst VideoPlayer: React.FC<VideoPlayerProps> = ({ \n  src, \n  poster,\n  autoPlay = false,\n  loop = false,\n  muted = false,\n  controls = true,\n  width = '100%',\n  height = 'auto',\n  onPlay,\n  onPause,\n  onEnded,\n  onTimeUpdate,\n  className = ''\n}) => {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState(muted ? 0 : 1);\n  const [isMuted, setIsMuted] = useState(muted);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [showControls, setShowControls] = useState(true);\n  const [playbackRate, setPlaybackRate] = useState(1);\n  const [isDragging, setIsDragging] = useState(false);\n  const hideControlsTimeout = useRef<NodeJS.Timeout | null>(null);\n  const progressBarRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    const handleLoadedMetadata = () => setDuration(video.duration);\n    const handleTimeUpdate = () => {\n      setCurrentTime(video.currentTime);\n      onTimeUpdate?.(video.currentTime);\n    };\n    const handlePlay = () => {\n      setIsPlaying(true);\n      onPlay?.();\n    };\n    const handlePause = () => {\n      setIsPlaying(false);\n      onPause?.();\n    };\n    const handleEnded = () => {\n      setIsPlaying(false);\n      onEnded?.();\n    };\n\n    video.addEventListener('loadedmetadata', handleLoadedMetadata);\n    video.addEventListener('timeupdate', handleTimeUpdate);\n    video.addEventListener('play', handlePlay);\n    video.addEventListener('pause', handlePause);\n    video.addEventListener('ended', handleEnded);\n\n    return () => {\n      video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n      video.removeEventListener('timeupdate', handleTimeUpdate);\n      video.removeEventListener('play', handlePlay);\n      video.removeEventListener('pause', handlePause);\n      video.removeEventListener('ended', handleEnded);\n    };\n  }, [onPlay, onPause, onEnded, onTimeUpdate]);\n\n  useEffect(() => {\n    const handleFullscreenChange = () => {\n      setIsFullscreen(!!document.fullscreenElement);\n    };\n\n    document.addEventListener('fullscreenchange', handleFullscreenChange);\n    return () => document.removeEventListener('fullscreenchange', handleFullscreenChange);\n  }, []);\n\n  const togglePlay = () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        videoRef.current.pause();\n      } else {\n        videoRef.current.play();\n      }\n    }\n  };\n\n  const updateProgress = useCallback((clientX: number) => {\n    if (progressBarRef.current && videoRef.current) {\n      const rect = progressBarRef.current.getBoundingClientRect();\n      const pos = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width));\n      videoRef.current.currentTime = pos * duration;\n      setCurrentTime(pos * duration);\n    }\n  }, [duration]);\n\n  const handleProgressClick = (e: React.MouseEvent<HTMLDivElement>) => {\n    updateProgress(e.clientX);\n  };\n\n  const handleProgressMouseDown = (e: React.MouseEvent<HTMLDivElement>) => {\n    setIsDragging(true);\n    updateProgress(e.clientX);\n  };\n\n  useEffect(() => {\n    const handleMouseMove = (e: MouseEvent) => {\n      if (isDragging) {\n        updateProgress(e.clientX);\n      }\n    };\n\n    const handleMouseUp = () => {\n      setIsDragging(false);\n    };\n\n    if (isDragging) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n    }\n\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [isDragging, updateProgress]);\n\n  const handleVolumeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newVolume = parseFloat(e.target.value);\n    setVolume(newVolume);\n    setIsMuted(newVolume === 0);\n    if (videoRef.current) {\n      videoRef.current.volume = newVolume;\n      videoRef.current.muted = newVolume === 0;\n    }\n  };\n\n  const toggleMute = () => {\n    if (videoRef.current) {\n      const newMuted = !isMuted;\n      setIsMuted(newMuted);\n      videoRef.current.muted = newMuted;\n      if (newMuted) {\n        setVolume(0);\n        videoRef.current.volume = 0;\n      } else {\n        const newVol = volume === 0 ? 1 : volume;\n        setVolume(newVol);\n        videoRef.current.volume = newVol;\n      }\n    }\n  };\n\n  const toggleFullscreen = () => {\n    if (!document.fullscreenElement) {\n      containerRef.current?.requestFullscreen();\n    } else {\n      document.exitFullscreen();\n    }\n  };\n\n  const handleDoubleClick = () => {\n    if (document.fullscreenElement) {\n      document.exitFullscreen();\n    }\n  };\n\n  const skip = (seconds: number) => {\n    if (videoRef.current) {\n      videoRef.current.currentTime = Math.max(0, Math.min(duration, currentTime + seconds));\n    }\n  };\n\n  const changePlaybackRate = (rate: number) => {\n    setPlaybackRate(rate);\n    if (videoRef.current) {\n      videoRef.current.playbackRate = rate;\n    }\n  };\n\n  const formatTime = (time: number) => {\n    const mins = Math.floor(time / 60);\n    const secs = Math.floor(time % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const handleMouseMove = () => {\n    setShowControls(true);\n    if (hideControlsTimeout.current) {\n      clearTimeout(hideControlsTimeout.current);\n    }\n    if (isPlaying) {\n      hideControlsTimeout.current = setTimeout(() => {\n        setShowControls(false);\n      }, 3000);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    if (isPlaying) {\n      setShowControls(false);\n    }\n  };\n\n  return (\n    <div \n      ref={containerRef}\n      className={`relative bg-black ${className}`}\n      style={{ width, height: height === 'auto' ? undefined : height }}\n      onMouseMove={handleMouseMove}\n      onMouseLeave={handleMouseLeave}\n    >\n      <video\n        ref={videoRef}\n        src={src}\n        poster={poster}\n        autoPlay={autoPlay}\n        loop={loop}\n        muted={muted}\n        className=\"w-full h-full object-cover\"\n        onClick={togglePlay}\n        onDoubleClick={handleDoubleClick}\n      />\n      \n      {controls && (\n        <div \n          className={`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 transition-opacity duration-300 ${\n            showControls ? 'opacity-100' : 'opacity-0'\n          }`}\n        >\n          {/* Progress Bar */}\n          <div \n            ref={progressBarRef}\n            className=\"w-full h-1 bg-gray-600 rounded cursor-pointer mb-3 group\"\n            onClick={handleProgressClick}\n            onMouseDown={handleProgressMouseDown}\n          >\n            <div \n              className=\"h-full bg-white rounded relative transition-colors\"\n              style={{ width: `${(currentTime / duration) * 100}%` }}\n            >\n              <div className=\"absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\" />\n            </div>\n          </div>\n\n          {/* Controls */}\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <button\n                onClick={togglePlay}\n                className=\"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-all\"\n                aria-label={isPlaying ? 'Pause' : 'Play'}\n              >\n                {isPlaying ? <Pause size={24} /> : <Play size={24} />}\n              </button>\n\n              <button\n                onClick={() => skip(-10)}\n                className=\"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-all\"\n                aria-label=\"Skip backward 10 seconds\"\n              >\n                <SkipBack size={20} />\n              </button>\n\n              <button\n                onClick={() => skip(10)}\n                className=\"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-all\"\n                aria-label=\"Skip forward 10 seconds\"\n              >\n                <SkipForward size={20} />\n              </button>\n\n              <div className=\"group relative\">\n                <div className=\"flex items-center gap-3 px-2 py-2 rounded-full bg-black/50 hover:bg-black/70 transition-all overflow-hidden\">\n                  <button\n                    onClick={toggleMute}\n                    className=\"text-white flex-shrink-0\"\n                    aria-label={isMuted ? 'Unmute' : 'Mute'}\n                  >\n                    {isMuted || volume === 0 ? <VolumeX size={20} /> : <Volume2 size={20} />}\n                  </button>\n                  <input\n                    type=\"range\"\n                    min=\"0\"\n                    max=\"1\"\n                    step=\"0.01\"\n                    value={volume}\n                    onChange={handleVolumeChange}\n                    className=\"w-0 group-hover:w-20 transition-all duration-300 accent-white cursor-pointer\"\n                    aria-label=\"Volume\"\n                    style={{\n                      background: `linear-gradient(to right, white ${volume * 100}%, rgba(255,255,255,0.3) ${volume * 100}%)`\n                    }}\n                  />\n                </div>\n              </div>\n\n              {/* Playback Speed */}\n              <div className=\"flex items-center gap-1 ml-4\">\n                {[0.5, 1, 1.5, 2].map((rate) => (\n                  <button\n                    key={rate}\n                    onClick={() => changePlaybackRate(rate)}\n                    className={`px-3 py-1 rounded-full text-white text-sm transition-all ${\n                      playbackRate === rate \n                        ? 'bg-white/30 font-bold' \n                        : 'bg-black/50 hover:bg-black/70'\n                    }`}\n                    aria-label={`Playback speed ${rate}x`}\n                  >\n                    {rate}x\n                  </button>\n                ))}\n              </div>\n\n              <span className=\"text-white text-sm\">\n                {formatTime(currentTime)} / {formatTime(duration)}\n              </span>\n            </div>\n\n            <button\n              onClick={toggleFullscreen}\n              className=\"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-all\"\n              aria-label={isFullscreen ? 'Exit fullscreen' : 'Enter fullscreen'}\n            >\n              {isFullscreen ? <Minimize size={20} /> : <Maximize size={20} />}\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VideoPlayer;"]}